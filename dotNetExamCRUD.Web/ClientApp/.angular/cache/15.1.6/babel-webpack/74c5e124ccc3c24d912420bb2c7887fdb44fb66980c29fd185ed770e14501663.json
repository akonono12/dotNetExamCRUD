{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { Contact } from '../../model/contact';\nimport { SearchContact } from '../../model/search-contact';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../contact.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"ngx-pagination\";\nfunction ContactTableComponent_tbody_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\")(1, \"tr\")(2, \"td\", 21);\n    i0.ɵɵtext(3, \"No data found\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction ContactTableComponent_tbody_50_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\")(12, \"div\", 13)(13, \"div\", 23)(14, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function ContactTableComponent_tbody_50_tr_1_Template_button_click_14_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const contact_r3 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r4.onClickEdit(contact_r3));\n    });\n    i0.ɵɵtext(15, \"Edit\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 23)(17, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function ContactTableComponent_tbody_50_tr_1_Template_button_click_17_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const contact_r3 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r6.deleteContact(contact_r3));\n    });\n    i0.ɵɵtext(18, \"Delete\");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const contact_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(contact_r3.firstName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(contact_r3.lastName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(contact_r3.companyName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(contact_r3.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(contact_r3.contactNumber);\n  }\n}\nconst _c0 = function (a1, a2) {\n  return {\n    itemsPerPage: 10,\n    currentPage: a1,\n    totalItems: a2\n  };\n};\nfunction ContactTableComponent_tbody_50_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\");\n    i0.ɵɵtemplate(1, ContactTableComponent_tbody_50_tr_1_Template, 19, 5, \"tr\", 22);\n    i0.ɵɵpipe(2, \"paginate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(2, 1, ctx_r1.contacts, i0.ɵɵpureFunction2(4, _c0, ctx_r1.pageIndex, ctx_r1.totalCount)));\n  }\n}\nexport class ContactTableComponent {\n  constructor(contactService) {\n    this.contactService = contactService;\n    this.contactFilter = new Contact();\n    this.contacts = [];\n    this.pageIndex = 1;\n    this.totalCount = 0;\n    this.searchList = new SearchContact();\n    this.edit = new EventEmitter();\n  }\n  ngOnInit() {}\n  loadTable() {\n    this.contactService.searchContact(this.pageIndex, this.contactFilter).subscribe(data => {\n      this.contacts = data.results;\n      this.totalCount = data.totalCount;\n      this.pageIndex = data.pageIndex;\n      this.searchList = data;\n    });\n  }\n  handlePageChange(event) {\n    this.pageIndex = event;\n    this.loadTable();\n  }\n  deleteContact(model) {\n    if (confirm(`Are you sure you want to delete: ${model.firstName} ${model.lastName} ?`)) {\n      this.contactService.deleteContact(model.contactId).subscribe(result => {\n        if (result.success) {\n          alert(\"Succesfully deleted\");\n          this.loadTable();\n        } else {\n          alert(\"Something wrong while deleting.Please contact the administrator.\");\n        }\n      }, () => alert(\"Something wrong while deleting.Please contact the administrator.\"));\n    }\n  }\n  onClickEdit(model) {\n    this.edit.emit(model);\n  }\n  keyPress(event) {\n    const pattern = /[0-9\\+\\-\\ ]/;\n    let inputChar = String.fromCharCode(event.charCode);\n    if (event.keyCode != 8 && !pattern.test(inputChar)) {\n      event.preventDefault();\n    }\n  }\n  search() {\n    this.pageIndex = 1;\n    this.loadTable();\n  }\n}\nContactTableComponent.ɵfac = function ContactTableComponent_Factory(t) {\n  return new (t || ContactTableComponent)(i0.ɵɵdirectiveInject(i1.ContactService));\n};\nContactTableComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ContactTableComponent,\n  selectors: [[\"app-contact-table\"]],\n  outputs: {\n    edit: \"edit\"\n  },\n  decls: 54,\n  vars: 8,\n  consts: [[1, \"title\", \"mb-2\", \"mt-2\"], [1, \"row\", \"mb-2\"], [1, \"form-group\", \"col-6\"], [\"for\", \"fname\"], [\"type\", \"text\", \"placeholder\", \"Enter FirstName\", \"id\", \"fname\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"lname\"], [\"type\", \"text\", \"placeholder\", \"Enter LastName\", \"id\", \"lname\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"compName\"], [\"type\", \"text\", \"placeholder\", \"Enter company name\", \"id\", \"compName\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"email\"], [\"type\", \"text\", \"placeholder\", \"Enter email number\", \"id\", \"email\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"cnumber\"], [\"type\", \"text\", \"placeholder\", \"Enter contact number\", \"minlength\", \"10\", \"maxlength\", \"13\", \"id\", \"cnumber\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"keypress\"], [1, \"row\"], [1, \"col\", \"text-center\"], [\"type\", \"submit\", 1, \"btn\", \"btn-sm\", \"btn-primary\", 3, \"click\"], [1, \"table\", \"table-hover\"], [4, \"ngIf\"], [1, \"row\", \"float-end\"], [\"previousLabel\", \"<-\", \"nextLabel\", \"->\", 1, \"col-12\", 3, \"responsive\", \"pageChange\"], [1, \"mb-2\"], [\"colspan\", \"5\", 2, \"text-align\", \"center\"], [4, \"ngFor\", \"ngForOf\"], [1, \"col-6\"], [\"type\", \"submit\", 1, \"btn\", \"btn-sm\", \"btn-danger\", 3, \"click\"]],\n  template: function ContactTableComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h3\", 0);\n      i0.ɵɵtext(1, \"Contact Table\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(2, \"hr\");\n      i0.ɵɵelementStart(3, \"details\")(4, \"summary\");\n      i0.ɵɵtext(5, \"Click to show filters\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"div\", 1)(7, \"div\", 2)(8, \"label\", 3);\n      i0.ɵɵtext(9, \"First Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function ContactTableComponent_Template_input_ngModelChange_10_listener($event) {\n        return ctx.contactFilter.firstName = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(11, \"div\", 2)(12, \"label\", 5);\n      i0.ɵɵtext(13, \"Last Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"input\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function ContactTableComponent_Template_input_ngModelChange_14_listener($event) {\n        return ctx.contactFilter.lastName = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(15, \"div\", 1)(16, \"div\", 2)(17, \"label\", 7);\n      i0.ɵɵtext(18, \"Company Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"input\", 8);\n      i0.ɵɵlistener(\"ngModelChange\", function ContactTableComponent_Template_input_ngModelChange_19_listener($event) {\n        return ctx.contactFilter.companyName = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(20, \"div\", 2)(21, \"label\", 9);\n      i0.ɵɵtext(22, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"input\", 10);\n      i0.ɵɵlistener(\"ngModelChange\", function ContactTableComponent_Template_input_ngModelChange_23_listener($event) {\n        return ctx.contactFilter.email = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(24, \"div\", 1)(25, \"div\", 2)(26, \"label\", 11);\n      i0.ɵɵtext(27, \"Contact Number\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"input\", 12);\n      i0.ɵɵlistener(\"ngModelChange\", function ContactTableComponent_Template_input_ngModelChange_28_listener($event) {\n        return ctx.contactFilter.contactNumber = $event;\n      })(\"keypress\", function ContactTableComponent_Template_input_keypress_28_listener($event) {\n        return ctx.keyPress($event);\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(29, \"div\", 1)(30, \"div\", 13)(31, \"div\", 14)(32, \"button\", 15);\n      i0.ɵɵlistener(\"click\", function ContactTableComponent_Template_button_click_32_listener() {\n        return ctx.search();\n      });\n      i0.ɵɵtext(33, \"Search\");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(34, \"table\", 16)(35, \"thead\")(36, \"tr\")(37, \"th\");\n      i0.ɵɵtext(38, \"First Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(39, \"th\");\n      i0.ɵɵtext(40, \"Last Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(41, \"th\");\n      i0.ɵɵtext(42, \"Company Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(43, \"th\");\n      i0.ɵɵtext(44, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(45, \"th\");\n      i0.ɵɵtext(46, \"Contact Number\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(47, \"th\");\n      i0.ɵɵtext(48, \"Actions\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(49, ContactTableComponent_tbody_49_Template, 4, 0, \"tbody\", 17);\n      i0.ɵɵtemplate(50, ContactTableComponent_tbody_50_Template, 3, 7, \"tbody\", 17);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(51, \"div\", 18)(52, \"pagination-controls\", 19);\n      i0.ɵɵlistener(\"pageChange\", function ContactTableComponent_Template_pagination_controls_pageChange_52_listener($event) {\n        return ctx.handlePageChange($event);\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(53, \"hr\", 20);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngModel\", ctx.contactFilter.firstName);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.contactFilter.lastName);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.contactFilter.companyName);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.contactFilter.email);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.contactFilter.contactNumber);\n      i0.ɵɵadvance(21);\n      i0.ɵɵproperty(\"ngIf\", ctx.contacts.length == 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.contacts.length > 0);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"responsive\", true);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.RequiredValidator, i3.MinLengthValidator, i3.MaxLengthValidator, i3.NgModel, i4.PaginationControlsComponent, i4.PaginatePipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["EventEmitter","Contact","SearchContact","i0","ContactTableComponent","constructor","contactService","ngOnInit","loadTable","searchContact","pageIndex","contactFilter","subscribe","data","contacts","results","totalCount","searchList","handlePageChange","event","deleteContact","model","confirm","firstName","lastName","contactId","result","success","alert","onClickEdit","edit","emit","keyPress","pattern","inputChar","String","fromCharCode","charCode","keyCode","test","preventDefault","search","selectors","outputs","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\chris\\source\\repos\\dotNetExamCRUD\\dotNetExamCRUD.Web\\ClientApp\\src\\app\\contact\\shared\\components\\contact-table\\contact-table.component.ts","C:\\Users\\chris\\source\\repos\\dotNetExamCRUD\\dotNetExamCRUD.Web\\ClientApp\\src\\app\\contact\\shared\\components\\contact-table\\contact-table.component.html"],"sourcesContent":["import { Component, EventEmitter, OnInit, Output } from '@angular/core';\nimport { Contact } from '../../model/contact';\nimport { SearchContact } from '../../model/search-contact';\nimport { ContactService } from '../../contact.service';\n\n@Component({\n  selector: 'app-contact-table',\n  templateUrl: './contact-table.component.html',\n  styleUrls: ['./contact-table.component.css']\n})\nexport class ContactTableComponent implements OnInit {\n\n  public contactFilter: Contact = new Contact();\n  public contacts:Contact[] = [];\n  public pageIndex:number = 1;\n  public totalCount:number = 0;\n  public searchList:SearchContact = new SearchContact();\n  @Output() edit: EventEmitter<Contact> = new EventEmitter();\n  constructor(private contactService:ContactService) { }\n\n  ngOnInit() {\n  }\n\n  public loadTable(){\n    this.contactService.searchContact(this.pageIndex,this.contactFilter).subscribe(data => {\n      this.contacts = data.results;\n      this.totalCount = data.totalCount;\n      this.pageIndex = data.pageIndex;\n      this.searchList = data;\n    })\n  }\n\n  public handlePageChange(event: number): void {\n    this.pageIndex = event;\n    this.loadTable();\n  }\n\n  public deleteContact(model:Contact){\n    if(confirm(`Are you sure you want to delete: ${model.firstName} ${model.lastName} ?`)){\n      this.contactService.deleteContact(model.contactId).subscribe(result => {\n        if(result.success){\n          alert(\"Succesfully deleted\");\n          this.loadTable();\n        }else{\n          alert(\"Something wrong while deleting.Please contact the administrator.\")\n        }\n      },() => alert(\"Something wrong while deleting.Please contact the administrator.\"))\n    }\n  }\n\n  public onClickEdit(model:Contact){\n    this.edit.emit(model);\n  }\n\n  keyPress(event: any) {\n    const pattern = /[0-9\\+\\-\\ ]/;\n\n    let inputChar = String.fromCharCode(event.charCode);\n    if (event.keyCode != 8 && !pattern.test(inputChar)) {\n      event.preventDefault();\n    }\n  }\n\n  public search(){\n    this.pageIndex = 1;\n    this.loadTable();\n  }\n\n}\n","<h3 class=\"title mb-2 mt-2\">Contact Table</h3>\n<hr/>\n\n<details>\n  <summary>Click to show filters</summary>\n <div class=\"row mb-2\">\n    <div class=\"form-group col-6\">\n      <label for=\"fname\">First Name</label>\n      <input type=\"text\" placeholder=\"Enter FirstName\" [(ngModel)]=\"contactFilter.firstName\" class=\"form-control\" id=\"fname\" required>\n    </div>\n    <div class=\"form-group col-6\">\n      <label for=\"lname\">Last Name</label>\n      <input type=\"text\" placeholder=\"Enter LastName\" [(ngModel)]=\"contactFilter.lastName\" class=\"form-control\" id=\"lname\" required>\n    </div>\n  </div>\n  <div class=\"row mb-2\">\n    <div class=\"form-group col-6\">\n      <label for=\"compName\">Company Name</label>\n      <input type=\"text\" placeholder=\"Enter company name\" [(ngModel)]=\"contactFilter.companyName\" class=\"form-control\" id=\"compName\" >\n    </div>\n    <div class=\"form-group col-6\">\n      <label for=\"email\">Email</label>\n      <input type=\"text\" placeholder=\"Enter email number\" [(ngModel)]=\"contactFilter.email\" class=\"form-control\" id=\"email\">\n    </div>\n  </div>\n  <div class=\"row mb-2\">\n    <div class=\"form-group col-6\">\n      <label for=\"cnumber\">Contact Number</label>\n      <input type=\"text\" placeholder=\"Enter contact number\" [(ngModel)]=\"contactFilter.contactNumber\" (keypress)=\"keyPress($event)\" minlength=10 maxlength=13 class=\"form-control\" id=\"cnumber\">\n    </div>\n  </div>\n  <div class=\"row mb-2\">\n    <div class=\"row\">\n      <div class=\"col text-center\">\n        <button type=\"submit\" class=\"btn btn-sm btn-primary\"(click)=\"search()\" >Search</button>\n      </div>\n    </div>\n  </div>\n</details>\n\n<table class=\"table table-hover\">\n  <thead>\n    <tr>\n      <th>First Name</th>\n      <th>Last Name</th>\n      <th>Company Name</th>\n      <th>Email</th>\n      <th>Contact Number</th>\n      <th>Actions</th>\n    </tr>\n  </thead>\n  <tbody *ngIf=\"contacts.length == 0\">\n    <tr>\n      <td colspan=\"5\" style=\"text-align: center;\">No data found</td>\n    </tr>\n  </tbody>\n  <tbody *ngIf=\"contacts.length > 0\">\n    <tr *ngFor=\"let contact of contacts | paginate : {\n            itemsPerPage: 10,\n            currentPage: pageIndex,\n            totalItems: totalCount\n          };\">\n      <td>{{contact.firstName}}</td>\n      <td>{{contact.lastName}}</td>\n      <td>{{contact.companyName}}</td>\n      <td>{{contact.email}}</td>\n      <td>{{contact.contactNumber}}</td>\n      <td>\n        <div class=\"row\">\n          <div class=\"col-6\">\n            <button type=\"submit\" class=\"btn btn-sm btn-primary\" (click)=\"onClickEdit(contact)\">Edit</button>\n          </div>\n          <div class=\"col-6\">\n            <button type=\"submit\" class=\"btn btn-sm btn-danger\" (click)=\"deleteContact(contact)\">Delete</button>\n          </div>\n        </div>\n    </td>\n    </tr>\n  </tbody>\n\n</table>\n<div class=\"row float-end\">\n  <pagination-controls\n  class=\"col-12\"\n    previousLabel=\"&#60;-\"\n    nextLabel=\"->\"\n    [responsive]=\"true\"\n    (pageChange)=\"handlePageChange($event)\"\n  ></pagination-controls>\n</div>\n\n<hr class=\"mb-2\"/>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}